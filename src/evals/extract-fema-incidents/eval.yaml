description: "Extract FEMA incidents"

providers:
  - id: gpt-4o-mini
    model: openai/gpt-4o-mini
    transforms: ["extract_items_array", "normalize_json"]

  - id: gpt-4o
    model: openai/gpt-4o
    transforms: ["extract_items_array", "normalize_json"]

  - id: o4-mini
    model: openai/o4-mini-2025-04-16
    transforms: ["extract_items_array", "normalize_json"]

  - id: o3
    model: openai/o3
    transforms: ["extract_items_array", "normalize_json"]

  - id: o1
    model: openai/o1
    transforms: ["extract_items_array", "normalize_json"]

  - id: claude-opus
    model: anthropic/claude-3-opus-20240229
    transforms: ["extract_items_array", "normalize_json"]

  - id: claude-sonnet
    model: anthropic/claude-3-5-sonnet-20241022
    transforms: ["extract_items_array", "normalize_json"]

  - id: claude-3-7-sonnet
    model: anthropic/claude-3-7-sonnet-20250219
    transforms: ["extract_items_array", "normalize_json"]

  - id: claude-sonnet-4
    model: anthropic/claude-sonnet-4-0
    transforms: ["extract_items_array", "normalize_json"]

  - id: claude-opus-4
    model: anthropic/claude-opus-4-0
    transforms: ["extract_items_array", "normalize_json"]

  - id: claude-sonnet-4-5
    model: anthropic/claude-sonnet-4-5
    transforms: ["extract_items_array", "normalize_json"]

  - id: gemini-2-5-pro-03-25
    model: gemini-2.5-pro-preview-03-25
    transforms: ["extract_items_array", "normalize_json"]

  - id: gemini-2-5-pro-05-06
    model: gemini-2.5-pro-preview-05-06
    transforms: ["extract_items_array", "normalize_json"]

  - id: gemini-pro
    model: gemini-1.5-pro-latest
    transforms: ["extract_items_array", "normalize_json"]

  - id: gemini-flash
    model: gemini-1.5-flash-latest
    transforms: ["extract_items_array", "normalize_json"]

  - id: qwen-3-14b
    model: lmstudio/qwen/qwen3-14b
    transforms: ["extract_items_array", "normalize_json"]

  - id: gpt-oss-20b
    model: lmstudio/openai/gpt-oss-20b
    transforms: ["extract_items_array", "normalize_json"]

  - id: gpt-oss-120b
    model: openrouter/openai/gpt-oss-120b
    transforms: ["extract_items_array", "normalize_json"]
    options:
      provider:
        only:
          - "deepinfra"

  - id: gpt-5
    model: gpt-5-2025-08-07
    transforms: ["extract_items_array", "normalize_json"]

  # - id: gpt-5-mini
  #   model: gpt-5-mini-2025-08-07
  #   transforms: ["extract_items_array", "normalize_json"]

  # - id: gpt-5-nano
  #   model: gpt-5-nano-2025-08-07
  #   transforms: ["extract_items_array", "normalize_json"]

prompts:
  - Extract all declaration requests

tests:
  - vars:
      attachments:
        - path: fema-daily-operation-brief-p9.jpg
      schema:
        syntax: dsl
        multi: true
        content: |
          state_or_tribe_or_territory
          incident_description
          incident_type
          IA bool
          PA bool
          HM bool
          requested str: YYYY-MM-DD, current year is 2025
    expected: file://expected.json

  - vars:
      attachments:
        - path: fema-daily-operation-brief.pdf
      schema:
        syntax: dsl
        multi: true
        content: |
          state_or_tribe_or_territory
          incident_description
          incident_type
          IA bool
          PA bool
          HM bool
          requested str: YYYY-MM-DD, current year is 2025
    expected: file://expected.json
