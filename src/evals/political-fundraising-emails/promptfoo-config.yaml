# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: "Political fundraising emails"

prompts:
  - |
    Given this political fundraising email, respond with the name of the committee in the disclaimer that begins with Paid for by but does not include Paid for by, the committee address or the treasurer name. If no committee is present, return "None". Do not include any other text, no yapping.
    name: {{name}}
    email: {{email}}
    subject: {{subject}}
    body: {{body}}

providers:
  - id: "http://127.0.0.1:4242/eval"
    label: "openai/gpt-4.1-mini-2025-04-14"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "openai/gpt-4.1-mini-2025-04-14"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "openai/gpt-4o-mini"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "openai/gpt-4o-mini"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "openai/o4-mini-2025-04-16"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "openai/o4-mini-2025-04-16"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "gemini-1.5-flash-002"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "gemini-1.5-flash-002"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "gemini-2.0-flash-lite"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "gemini-2.0-flash-lite"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "gemini-2.0-flash"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "gemini-2.0-flash"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "qwen/qwen3-14b"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "qwen/qwen3-14b"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "google/gemma-3-12b"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "google/gemma-3-12b"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "ministral-8b-instruct-2410"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "ministral-8b-instruct-2410"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "openai/gpt-oss-20b"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "openrouter/openai/gpt-oss-20b"
            options:
              provider:
                quantizations:
                  - "fp4"
            transform_func: to_uppercase

  - id: "http://127.0.0.1:4242/eval"
    label: "openai/gpt-oss-120b"
    config:
      transformResponse: 'file://../../../catchErrors.js'
      method: POST
      body:
        prompt: "{{prompt}}"
        options:
          config:
            model: "openrouter/openai/gpt-oss-120b"
            options:
              provider:
                quantizations:
                  - "fp4"
            transform_func: to_uppercase

tests: file://tests.csv
